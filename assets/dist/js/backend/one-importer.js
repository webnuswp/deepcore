"use strict";!function(k){k.redux=k.redux||{},k.redux.one_importer=function(){var d=k(".wn-lightbox-wrap"),c=(k(".wn-pagebuilder-wrap"),"no"),l="no",p="no",m="no",u="no",w="no",h="no",f="no",g="no";function b(){k.ajax({url:ProgressData.ajax_url,type:"post",success:function(e){k(".wbc-progress-bar").attr("style","width:"+e+"%"),k(".wbc-progress-count").text(e+"%")},error:function(e){console.log(e)},complete:function(e){setTimeout(b,5e3)}})}function x(){var e={action:"reset_progress",nonce:OneImporter.nonce};k.ajax({url:OneImporter.ajax_url,type:"post",data:e,success:function(e){console.log(e)},error:function(e){console.log(e)}})}function y(e){e=k('.wn-lightbox[data-demo-id="'+e+'"]');e.children("h2").hide(),e.find(".wni-start").hide(),e.children(".wn-suc-imp-title").fadeIn(),e.find(".wn-suc-imp-t100").fadeIn(),e.find(".wn-suc-imp-links").fadeIn(),k(".wsw-menu").find("li.active:last").next().addClass("active"),k(".wsw-btn-step").hide()}k(".wrap-importer.theme.not-imported .wbc-importer-buttons .button").on("click",function(e){e.preventDefault();var t,n=k(this),o=n.closest(".wrap-importer"),i=o.data("demo-id"),s=k("#wni-bad-status-message"),r=k('.wn-lightbox[data-demo-id="'+i+'"]'),e=k("#wnInvalidPurchaseCode"),a=r.closest(".wn-lightbox-wrap");0<e.length?(t=e.clone().show(),e.remove(),d.find('.wn-lightbox[data-demo-id="'+i+'"]').children("h2").after(t)):0<s.length&&(t=s.clone().show(),s.remove(),d.find('.wn-lightbox[data-demo-id="'+i+'"]').children("h2").after(t)),d.find('.wn-lightbox[data-demo-id="'+i+'"]').find(".wni-settings").niceScroll({scrollbarid:"wn-lb-content",cursorwidth:"10px",cursorborder:"0",touchbehavior:!0,autohidemode:!1,background:"#e7e7e7",cursorcolor:"#91989e"}),d.find('.wn-lightbox[data-demo-id="'+i+'"]').show().closest(".wn-lightbox-wrap").show(),k(r).find(".wn-import-demo-btn").on("click",function(e){e.preventDefault(),n=k(this);0!=confirm("By importing the demo content, items such as pages, posts, images, sliders, theme options, widgets and other configurations will be imported as well. it will take several minutes.\n\n Note: 'Shop' and 'Buddypress' demos will take 15 minutes approximately to be imported.")&&(k(".wbc-progress-back").show(),d.find("i.ti-close").hide(),n.css({opacity:"0.6",cursor:"not-allowed"}),n.text("Demo Is Importing"),r.find("#w-importing").text("Please do not refresh the page until import is complete. The time it takes to import depends on your host configuration and it may take up to 15 minutes, so please be patient."),e={action:"importing_demo_content",nonce:OneImporter.nonce,pagebuilder:r.find(".wn-radio-control.checked").text(),demo:r.find("input#demo").val(),pages:c,posts:l,import_sliders:f,import_header:g,import_theme_opts:h,import_widgets:w,import_attachments:u,portfolios:m,contact_forms:p},k.ajax({type:"POST",url:OneImporter.ajax_url,data:e,success:function(e){console.log(e)},error:function(e){console.log(e)}}).done(function(){setTimeout(function(){k(".wn-lb-content.wni-settings").hide(),d.find('.wn-lightbox[data-demo-id="'+i+'"]').find(".wn-suc-imp-content-wrap").show(),o.find(".importer-button:not(#wbc-importer-reimport)").removeClass("button-primary").addClass("button").text("Imported").show(),o.find(".importer-button").attr("style",""),o.addClass("imported active").removeClass("not-imported"),o.find("#wbc-importer-reimport").hide(),a.find("i.ti-close").show(),y(i),x()},5500)}),setTimeout(b,5e3))})}),k(".wn-setup-wizard").find(".wn-import-demo-btn").on("click",function(e){e.preventDefault();var t,n,o,i,s,r;0!=confirm("By importing the demo content, items such as pages, posts, images, sliders, theme options, widgets and other configurations will be imported as well. it will take several minutes.\n\n Note: 'Shop' and 'Buddypress' demos will take 15 minutes approximately to be imported.")&&(t=k(this).closest(".wn-lightbox"),n=t.data("demo-id"),r=k('.wn-lightbox-wrap[data-demo-id="'+n+'"]').find(".wn-radio-control.checked").text(),k(".wsw-btn-step").hide(),i=k('.wn-lightbox[data-demo-id="'+(o=n)+'"]'),s=i.closest(".wn-lightbox-wrap"),e=i.find(".wni-settings"),o=i.find(".wn-suc-imp-content-wrap"),i.find(".wni-start"),i=s.find(".nicescroll-rails"),s.find("i.ti-close").hide(),e.hide(),i.hide(),o.fadeIn(),o.find(".wn-suc-imp-t100").hide().end().find(".wn-suc-imp-links").hide(),r={action:"importing_demo_content",nonce:OneImporter.nonce,pagebuilder:r,demo:d.find('.wn-lightbox[data-demo-id="'+n+'"]').find(".wn-suc-imp-title").text(),pages:c,posts:l,import_sliders:f,import_header:g,import_theme_opts:h,import_widgets:w,import_attachments:u,portfolios:m,contact_forms:p},k.ajax({type:"POST",url:OneImporter.ajax_url,data:r,success:function(e){console.log(e)},error:function(e){console.log(e)}}).done(function(){setTimeout(function(){k(".loader").hide(),k(".wn-lb-content.wni-settings").hide(),d.find('.wn-lightbox-wrap[data-demo-id="'+n+'"]').find(".wn-suc-imp-content-wrap").show(),t.find(".importer-button:not(#wbc-importer-reimport)").removeClass("button-primary").addClass("button").text("Imported").show(),t.find(".importer-button").attr("style",""),t.addClass("imported active").removeClass("not-imported"),t.find("#wbc-importer-reimport").hide(),y(n),x()},3e3)}),setTimeout(b,5e3))}),k(document).on("click",".import-risk-btn",function(e){e.preventDefault(),k("#wni-bad-status-message").fadeOut()}),d.find("i.ti-close").on("click",function(e){e.preventDefault(),d.hide(),location.reload()}),k(".wn-pagebuilder-wrap").find("label").on("click",function(e){e.preventDefault();var t=k(this),n=t.find("input"),e=t.find(".wn-radio-indicator");t.closest(".wn-pagebuilder-wrap").find(".wn-radio-control").removeClass("checked").end().find("input").removeAttr("checked").end().find(".wn-radio-indicator").removeClass("checked"),t.addClass("checked"),n.attr("checked","checked"),e.addClass("checked"),"visualcomposer"==n.val()?(k('.wn-plugin[data-plugin-name="Elementor"]').hide(),k('.wn-plugin[data-plugin-name="WPBakery Page Builder"]').show()):"elementor"==n.val()&&(k('.wn-plugin[data-plugin-name="WPBakery Page Builder"]').hide(),k('.wn-plugin[data-plugin-name="Elementor"]').show())}),k('.wn-plugin[data-plugin-name="WPBakery Page Builder"]').hide(),k('.wn-plugin[data-plugin-name="Elementor"]').show(),k(".wn-import-content-wrap").find("label").on("click",function(){var e=k(this),t=e.attr("for").replace(/\d+/g,""),n=k(this).siblings("input"),o=e.closest(".wn-checkbox-wrap").siblings(".wn-checkbox-wrap").find("input"),i=e.closest(".wn-checkbox-wrap").siblings(".wn-checkbox-wrap.wn-all-contents").find("input");n.is(":checked")?"all"==t?(c=l=p=m=u=f=h=w=g="no",o.attr("checked",!1)):(i.attr("checked",!1),"pages"==t?c="no":"posts"==t?l="no":"contact_forms"==t?p="no":"portfolios"==t?m="no":"images"==t?u="no":"widgets"==t?w="no":"themeoptions"==t?h="no":"sliders"==t?f="no":"header"==t&&(g="no")):"all"==t?(c=l=p=m=u=f=h=w=g="yes",o.attr("checked",!0)):(1<o.not(":checked").length?i.attr("checked",!1):i.attr("checked",!0),"pages"==t?c="yes":"posts"==t?l="yes":"contact_forms"==t?p="yes":"portfolios"==t?m="yes":"images"==t?u="yes":"widgets"==t?w="yes":"themeoptions"==t?h="yes":"sliders"==t?f="yes":"header"==t&&(g="yes")),"yes"==c||"yes"==l||"yes"==p||"yes"==m||"yes"==u||"yes"==f||"yes"==h||"yes"==w||"yes"==g?e.closest(".wn-lb-content").find(".wn-import-demo-btn").css({opacity:"1",cursor:"pointer"}):e.closest(".wn-lb-content").find(".wn-import-demo-btn").css({opacity:"0.6",cursor:"not-allowed"})})},k(document).ready(function(){k.redux.one_importer()})}(jQuery);