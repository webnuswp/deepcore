!function(r){"use strict";jQuery(document).ready(function(){r(document).on("click",".mini_cart_item .remove",function(a){var t=r(this),e=r('<div class="wn-circle-side-wrap"><div data-loader="wn-circle-side"></div></div>'),o=t.data("product_id");a.preventDefault(),e.appendTo(r(this).closest(".wn-header-woo-cart")),r.ajax({url:woocommerce_params.ajax_url,type:"POST",dataType:"html",data:{action:"wn_woo_ajax_update_cart",cart_product_id:o},success:function(a){r(".wn-header-woo-cart-wrap").html(a),e.remove(),t.closest(".wn-header-woo-cart").slideDown(),setTimeout(function(){t.find(".wn-ajax-error").remove()},400);a=r(".wn-count-cart-product").attr("data-items");r("span.header-cart-count-icon").text(a)},error:function(a,t,e){}})}),r(document).on("click",".wn-woo-add-to-cart-btn .add_to_cart_button.ajax_add_to_cart, .type-list-readmore .add_to_cart_button.ajax_add_to_cart",function(a){a.preventDefault();var t=r(this),a=r('<div class="wn-circle-side-wrap"><div data-loader="wn-circle-side"></div></div>'),e=r("#webnus-header-builder").find(".whb-screen-view:not(.whb-sticky-view)").find(".wn-header-woo-cart"),t=t.data("product_id");r("html, body").animate({scrollTop:0},700),e.append(a),e.hasClass("open-cart")||e.addClass("is-open").slideDown(),r("#wn-cart-modal-icon").hasClass("open-cart")||r("#wn-cart-modal-icon").addClass("open-cart"),r.ajax({url:woocommerce_params.ajax_url,type:"POST",dataType:"html",data:{action:"wn_woo_ajax_add_to_cart",cart_product_id:t},success:function(a){r(".wn-header-woo-cart-wrap").html(a),e.find(".wn-circle-side-wrap").remove();a=r(".wn-count-cart-product").attr("data-items");r(".whb-cart").find(".wn-cart-modal-icon").find(".header-cart-count-icon").text(a).attr("data-cart_count",a)},error:function(a,t,e){}})}),r("#webnus-header-builder").find(".whb-cart").on("click","#wn-cart-modal-icon",function(a){a.preventDefault(),r(this).hasClass("open-cart")?(r(this).removeClass("open-cart"),r(this).closest(".whb-cart").removeClass("is-open"),r(this).closest(".whb-cart").find(".wn-header-woo-cart").addClass("is-open").slideUp(300)):(r(this).addClass("open-cart"),r(this).closest(".whb-cart").addClass("is-open"),r(this).closest(".whb-cart").find(".wn-header-woo-cart").removeClass("is-open").slideDown(300))}),r(document).on("click",function(a){var t=r(a.target);"wn-cart-modal-icon"==a.target.id||"header-cart-icon"==a.target.id||"header-cart-count-icon"==a.target.id||t.hasClass("add_to_cart_button")||t.parent().hasClass("add_to_cart_button")||(t=r("#webnus-header-builder").find(".whb-cart").find("#wn-cart-modal-icon")).hasClass("open-cart")&&(t.removeClass("open-cart"),t.closest(".whb-cart").removeClass("is-open"),t.closest(".whb-cart").find(".wn-header-woo-cart").slideUp(300))}),r(document).on("click","#wn-header-woo-cart",function(a){a.stopPropagation()})})}(jQuery);